<!DOCTYPE html>
<html>
<head>
    <title>Test Camera - Sinh Nháº­t HÆ°ng</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body style="background: #000; color: #FFD700; font-family: Arial; text-align: center; padding: 50px;">
    <h1>ğŸ¥ TEST CAMERA NETLIFY</h1>
    
    <div style="margin: 30px;">
        <video id="video" width="640" height="480" autoplay style="border: 3px solid #FFD700; border-radius: 10px;"></video>
    </div>
    
    <div id="status" style="margin: 20px; font-size: 18px;">
        Äang kiá»ƒm tra camera...
    </div>
    
    <div style="margin: 30px;">
        <button onclick="testCamera()" style="background: #D32F2F; color: white; border: 2px solid #FFD700; padding: 15px 30px; border-radius: 25px; font-size: 16px; cursor: pointer;">
            ğŸ”„ TEST Láº I CAMERA
        </button>
    </div>
    
    <div style="background: #222; padding: 20px; border-radius: 10px; max-width: 600px; margin: 0 auto; text-align: left;">
        <h3>ğŸ“‹ ThÃ´ng tin:</h3>
        <p>â€¢ Domain: <span id="domain"></span></p>
        <p>â€¢ HTTPS: <span id="https"></span></p>
        <p>â€¢ Camera: <span id="camera-count">Äang kiá»ƒm tra...</span></p>
        <p>â€¢ User Agent: <span id="ua" style="font-size: 12px; color: #aaa;"></span></p>
    </div>
    
    <script>
        document.getElementById('domain').textContent = window.location.hostname;
        document.getElementById('https').textContent = window.location.protocol === 'https:' ? 'âœ… CÃ³' : 'âŒ KhÃ´ng';
        document.getElementById('ua').textContent = navigator.userAgent;
        
        async function testCamera() {
            const status = document.getElementById('status');
            const video = document.getElementById('video');
            const cameraCount = document.getElementById('camera-count');
            
            try {
                status.innerHTML = 'ğŸ” Äang kiá»ƒm tra thiáº¿t bá»‹ camera...';
                
                // Kiá»ƒm tra sá»‘ lÆ°á»£ng camera
                const devices = await navigator.mediaDevices.enumerateDevices();
                const cameras = devices.filter(d => d.kind === 'videoinput');
                cameraCount.textContent = `TÃ¬m tháº¥y ${cameras.length} camera`;
                
                if (cameras.length === 0) {
                    status.innerHTML = 'âŒ KhÃ´ng tÃ¬m tháº¥y camera nÃ o!';
                    return;
                }
                
                status.innerHTML = 'ğŸ“· Äang yÃªu cáº§u quyá»n truy cáº­p camera...';
                
                // YÃªu cáº§u camera
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: {
                        width: { ideal: 640 },
                        height: { ideal: 480 }
                    },
                    audio: false
                });
                
                video.srcObject = stream;
                status.innerHTML = 'âœ… Camera hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng!';
                status.style.color = '#4CAF50';
                
            } catch (err) {
                console.error('Camera error:', err);
                status.innerHTML = `âŒ Lá»—i: ${err.name} - ${err.message}`;
                status.style.color = '#ff6b6b';
            }
        }
        
        // Tá»± Ä‘á»™ng test khi load trang
        window.onload = testCamera;
    </script>
</body>
</html>